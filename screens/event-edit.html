<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Edytuj wydarzenie ‚Ä¢ Meet App</title>
  <link rel="stylesheet" href="../css/iphone-frame.css">
  <style>
    input, select, textarea {
      margin-bottom: 16px;
    }
    .form-group {
      margin-bottom: 16px;
    }
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .modal {
      background: white;
      border-radius: 16px;
      padding: 20px;
      max-width: 320px;
      margin: 0 20px;
    }
  </style>
</head>

<body>
  <div class="phone">
    <div class="app">
      <div class="status-bar-right"></div>

      <div class="topbar">
        <a href="event-details.html">‚Üê Anuluj</a>
        <div class="title">Edytuj wydarzenie</div>
        <button id="saveBtn">Zapisz</button>
      </div>

      <div class="content">
        <div class="card" style="background:#fef3c7;border-color:#fde68a">
          <div style="font-size:12px;color:#92400e">
            ‚ö†Ô∏è <strong>5 os√≥b</strong> jest ju≈º zapisanych. Niekt√≥re zmiany mogƒÖ ich dotknƒÖƒá.
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="form-group">
            <label for="sport">Sport</label>
            <select id="sport">
              <option selected>Siatk√≥wka</option>
              <option>Koszyk√≥wka</option>
              <option>Pi≈Çka no≈ºna</option>
            </select>
          </div>

          <div class="form-group">
            <label for="datetime">Data i godzina</label>
            <input type="datetime-local" id="datetime" value="2024-10-28T18:00">
          </div>

          <div class="form-group">
            <label for="venue">Miejsce</label>
            <input type="text" id="venue" value="Hala Sportowa Malta">
          </div>

          <div class="form-group">
            <label for="price">Cena (PLN)</label>
            <input type="number" id="price" value="15" min="0">
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="h2">Konfiguracja listy</div>

          <div class="form-group">
            <label for="capacity">Liczba miejsc</label>
            <input type="number" id="capacity" value="12" disabled style="background:#f1f5f9;color:var(--muted)">
            <div class="muted" style="font-size:12px;margin-top:-12px">
              üîí Liczba miejsc nie mo≈ºe byƒá zmieniona (sta≈Ça: 12)
            </div>
          </div>

          <div class="form-group">
            <label for="waitlistMax">Max liczba os√≥b na rezerwie</label>
            <input type="number" id="waitlistMax" value="5" min="0" max="20">
          </div>

          <div class="form-group">
            <label style="display:flex;align-items:center;gap:8px">
              <input type="checkbox" id="autoPromote" checked style="width:24px;height:24px">
              <span>Auto-awansowanie z rezerwy</span>
            </label>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="h2">Opcje zaawansowane</div>

          <div class="form-group">
            <label for="deadline">Deadline na zapisy</label>
            <select id="deadline">
              <option>Brak</option>
              <option>30 minut przed</option>
              <option selected>2 godziny przed</option>
              <option>6 godzin przed</option>
              <option>1 dzie≈Ñ przed</option>
            </select>
          </div>

          <div class="form-group">
            <label style="display:flex;align-items:center;gap:8px">
              <input type="checkbox" id="requirePayment" checked style="width:24px;height:24px">
              <span>Wym√≥g p≈Çatno≈õci przed grƒÖ</span>
            </label>
          </div>

          <div class="form-group">
            <label style="display:flex;align-items:center;gap:8px">
              <input type="checkbox" id="sendNotifications" checked style="width:24px;height:24px">
              <span>Wysy≈Çaj powiadomienia</span>
            </label>
          </div>

          <div class="form-group">
            <label for="notes">Notatka</label>
            <textarea id="notes" placeholder="Dodatkowe informacje...">Pamiƒôtajcie o butach halowych!</textarea>
          </div>
        </div>

        <div style="margin-top:16px;display:flex;flex-direction:column;gap:8px">
          <button class="btn btn-primary" id="updateBtn">üíæ Zapisz zmiany</button>
          <button class="btn btn-danger" id="deleteBtn">üóëÔ∏è Usu≈Ñ wydarzenie</button>
          <a href="event-details.html" class="btn btn-ghost">Anuluj</a>
        </div>

        <!-- Delete confirmation modal -->
        <div id="deleteModal" class="modal-overlay" style="display:none">
          <div class="modal">
            <div class="h2">‚ö†Ô∏è Usu≈Ñ wydarzenie?</div>
            <div class="muted" style="margin:12px 0">
              Czy na pewno chcesz usunƒÖƒá wydarzenie <strong>≈ör 28.10 ‚Ä¢ 18:00</strong>?
              <br><br>
              <strong>5 os√≥b</strong> jest zapisanych i zostanie powiadomionych o odwo≈Çaniu.
              <br><br>
              <span style="color:var(--danger);font-weight:600">Ta akcja jest nieodwracalna!</span>
            </div>

            <div style="display:flex;gap:8px;margin-top:16px">
              <button class="btn btn-danger" style="flex:1" id="confirmDelete">Tak, usu≈Ñ</button>
              <button class="btn btn-ghost" id="cancelDelete">Anuluj</button>
            </div>
          </div>
        </div>

        <script>
          document.getElementById('updateBtn').addEventListener('click', () => {
            alert('Zmiany zapisane!\n\nZapisani uczestnicy zostali powiadomieni o zmianach.');
            window.location.href = 'event-details.html';
          });

          document.getElementById('saveBtn').addEventListener('click', () => {
            document.getElementById('updateBtn').click();
          });

          document.getElementById('deleteBtn').addEventListener('click', () => {
            document.getElementById('deleteModal').style.display = 'flex';
          });

          document.getElementById('confirmDelete').addEventListener('click', () => {
            alert('Wydarzenie usuniƒôte!\n\nUczestnicy zostali powiadomieni.');
            window.location.href = 'events-list.html';
          });

          document.getElementById('cancelDelete').addEventListener('click', () => {
            document.getElementById('deleteModal').style.display = 'none';
          });

          document.getElementById('deleteModal').addEventListener('click', (e) => {
            if (e.target.id === 'deleteModal') {
              document.getElementById('deleteModal').style.display = 'none';
            }
          });
        </script>

      </div>

      <div class="bottom">
        <a href="events-list.html">
          üìÖ
          <div>Wydarzenia</div>
        </a>
        <a href="map-home.html">
          üó∫Ô∏è
          <div>Mapa</div>
        </a>
        <a href="user-profile.html">
          üë§
          <div>Profil</div>
        </a>
      </div>
    </div>
  </div>

  <script src="../js/mock-data.js"></script>
  <script src="../js/app.js"></script>
</body>
</html>
